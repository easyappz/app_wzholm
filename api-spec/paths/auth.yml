auth_register:
  post:
    summary: "Register a new member"
    tags:
      - "Auth"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - username
              - password
            properties:
              username:
                type: string
                example: "user123"
              password:
                type: string
                format: password
    responses:
      "201":
        description: "Member created"
        content:
          application/json:
            schema:
              $ref: "../schemas/member.yml"
      "400":
        description: "Validation error"
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true

auth_login:
  post:
    summary: "Log in and get an auth token"
    tags:
      - "Auth"
    requestBody:
      required: true
      content:
        application/json:
          schema:
            type: object
            required:
              - username
              - password
            properties:
              username:
                type: string
                example: "user123"
              password:
                type: string
                format: password
    responses:
      "200":
        description: "Authenticated"
        content:
          application/json:
            schema:
              type: object
              properties:
                token:
                  type: string
                  example: "2f5c9d0e8a..."
                member:
                  $ref: "../schemas/member.yml"
      "400":
        description: "Invalid credentials or validation error"
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true

profile:
  get:
    summary: "Get current member profile"
    tags:
      - "Auth"
    security:
      - TokenAuth: []
    responses:
      "200":
        description: "Current member profile"
        content:
          application/json:
            schema:
              $ref: "../schemas/member.yml"
      "401":
        description: "Unauthorized"
        content:
          application/json:
            schema:
              type: object
              additionalProperties: true
