auth_register:
  post:
    summary: "Register a new member"
    tags:
      - "Auth"
    requestBody:
      description: "Registration data"
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              username:
                type: string
              password:
                type: string
                format: password
            required:
              - username
              - password
    responses:
      "201":
        description: "Member registered successfully"
        content:
          application/json:
            schema:
              $ref: "../schemas/member.yml"
      "400":
        description: "Validation error"

auth_login:
  post:
    summary: "Login and get an auth token"
    tags:
      - "Auth"
    requestBody:
      description: "Login credentials"
      required: true
      content:
        application/json:
          schema:
            type: object
            properties:
              username:
                type: string
              password:
                type: string
                format: password
            required:
              - username
              - password
    responses:
      "200":
        description: "Authentication successful"
        content:
          application/json:
            schema:
              $ref: "../schemas/authToken.yml"
      "400":
        description: "Invalid credentials"

profile:
  get:
    summary: "Get current member profile"
    tags:
      - "Auth"
    security:
      - TokenAuth: []
    responses:
      "200":
        description: "Current authenticated member"
        content:
          application/json:
            schema:
              $ref: "../schemas/member.yml"
      "401":
        description: "Unauthorized"
